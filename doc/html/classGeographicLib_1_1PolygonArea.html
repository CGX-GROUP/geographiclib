<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GeographicLib: GeographicLib::PolygonArea Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GeographicLib</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceGeographicLib.html">GeographicLib</a>      </li>
      <li class="navelem"><a class="el" href="classGeographicLib_1_1PolygonArea.html">PolygonArea</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">GeographicLib::PolygonArea Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="GeographicLib::PolygonArea" -->
<p>Polygon Areas.  
 <a href="classGeographicLib_1_1PolygonArea.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="PolygonArea_8hpp_source.html">GeographicLib/PolygonArea.hpp</a>&gt;</code></p>

<p><a href="classGeographicLib_1_1PolygonArea-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeographicLib_1_1PolygonArea.html#a060a1dc499bd079c62f62ed5cad929e5">PolygonArea</a> (const <a class="el" href="classGeographicLib_1_1Geodesic.html">Geodesic</a> &amp;earth, bool polyline=false)  throw ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeographicLib_1_1PolygonArea.html#a66198bec67036ad09aa58ec43166fe60">Clear</a> ()  throw ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeographicLib_1_1PolygonArea.html#acfec56f0e136a534192e1e71589299f1">AddPoint</a> (real lat, real lon)  throw ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeographicLib_1_1PolygonArea.html#a60e1c288358818c849356c9921191215">Compute</a> (bool reverse, bool sign, real &amp;perimeter, real &amp;area) const   throw ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeographicLib_1_1PolygonArea.html#ac46ac5567223b3db2ee11e6c4f72c257">TestCompute</a> (real lat, real lon, bool reverse, bool sign, real &amp;perimeter, real &amp;area) const   throw ()</td></tr>
<tr><td colspan="2"><div class="groupHeader">Inspector functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGeographicLib_1_1Math.html#aeee4778d7cf2f9fb9648efe4911da59d">Math::real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeographicLib_1_1PolygonArea.html#afcdd74fcb4a0f57aa193e5fd08239369">MajorRadius</a> () const   throw ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGeographicLib_1_1Math.html#aeee4778d7cf2f9fb9648efe4911da59d">Math::real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeographicLib_1_1PolygonArea.html#aba3543baed0f014b64890d174b8c62a0">Flattening</a> () const   throw ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Polygon Areas. </p>
<p>This computes the area of a geodesic polygon using the method given Section 15 of</p>
<ul>
<li>C. F. F. Karney, <a href="http://arxiv.org/abs/1102.1215v1">Geodesics on an ellipsoid of revolution</a>, Feb. 2011; preprint <a href="http://arxiv.org/abs/1102.1215v1">arxiv:1102.1215v1</a>.</li>
</ul>
<p>See also Section 6 of</p>
<ul>
<li>C. F. F. Karney, <a href="http://arxiv.org/abs/1109.4448">Algorithms for geodesics</a>, Sept. 2011; preprint <a href="http://arxiv.org/abs/1109.4448">arxiv:1109.4448</a>.</li>
</ul>
<p>This class lets you add vertices one at a time to the polygon. The area and perimeter are accumulated in two times the standard floating point precision to guard against the loss of accuracy with many-sided polygons. At any point you can ask for the perimeter and area so far. There's an option to treat the points as defining a polyline instead of a polygon; in that case, only the perimeter is computed.</p>
<p>Example of use: </p>
<div class="fragment"><pre class="fragment"><span class="comment">// Example of using the GeographicLib::PolygonArea class</span>
<span class="comment">// $Id: 103c4d2f060347fd499adc2e8487102c8b93d58f $</span>

<span class="preprocessor">#include &lt;iostream&gt;</span>
<span class="preprocessor">#include &lt;exception&gt;</span>
<span class="preprocessor">#include &lt;<a class="code" href="PolygonArea_8hpp.html" title="Header for GeographicLib::PolygonArea class.">GeographicLib/PolygonArea.hpp</a>&gt;</span>
<span class="preprocessor">#include &lt;<a class="code" href="Geodesic_8hpp.html" title="Header for GeographicLib::Geodesic class.">GeographicLib/Geodesic.hpp</a>&gt;</span>
<span class="preprocessor">#include &lt;<a class="code" href="Constants_8hpp.html" title="Header for GeographicLib::Constants class.">GeographicLib/Constants.hpp</a>&gt;</span>

<span class="keyword">using namespace </span>std;
<span class="keyword">using namespace </span>GeographicLib;

<span class="keywordtype">int</span> <a class="code" href="CartConvert_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>() {
  <span class="keywordflow">try</span> {
    <a class="code" href="classGeographicLib_1_1Geodesic.html" title="Geodesic calculations">Geodesic</a> geod(<a class="code" href="classGeographicLib_1_1Constants.html#af7abfdedede7d8180d0c2c4015b72194">Constants::WGS84_a</a>(), <a class="code" href="classGeographicLib_1_1Constants.html#a2e95ed8ac2738590348f9f3bbaa3fa41">Constants::WGS84_f</a>());
    <span class="comment">// Alternatively: const Geodesic&amp; geod = Geodesic::WGS84;</span>
    <a class="code" href="classGeographicLib_1_1PolygonArea.html" title="Polygon Areas.">PolygonArea</a> poly(geod);
    poly.AddPoint( 52,  0);     <span class="comment">// London</span>
    poly.AddPoint( 41,-74);     <span class="comment">// New York</span>
    poly.AddPoint(-23,-43);     <span class="comment">// Rio de Janeiro</span>
    poly.AddPoint(-26, 28);     <span class="comment">// Johannesburg</span>
    <span class="keywordtype">double</span> perimeter, area;
    <span class="keywordtype">unsigned</span> n = poly.Compute(<span class="keyword">false</span>, <span class="keyword">true</span>, perimeter, area);
    cout &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; perimeter &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; area &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
  }
  <span class="keywordflow">catch</span> (<span class="keyword">const</span> exception&amp; e) {
    cerr &lt;&lt; <span class="stringliteral">&quot;Caught exception: &quot;</span> &lt;&lt; e.what() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
    <span class="keywordflow">return</span> 1;
  }
  <span class="keywordflow">return</span> 0;
}
</pre></div> 
<p>Definition at line <a class="el" href="PolygonArea_8hpp_source.html#l00050">50</a> of file <a class="el" href="PolygonArea_8hpp_source.html">PolygonArea.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a060a1dc499bd079c62f62ed5cad929e5"></a><!-- doxytag: member="GeographicLib::PolygonArea::PolygonArea" ref="a060a1dc499bd079c62f62ed5cad929e5" args="(const Geodesic &amp;earth, bool polyline=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GeographicLib::PolygonArea::PolygonArea </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classGeographicLib_1_1Geodesic.html">Geodesic</a> &amp;&#160;</td>
          <td class="paramname"><em>earth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>polyline</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw ()<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor for <a class="el" href="classGeographicLib_1_1PolygonArea.html" title="Polygon Areas.">PolygonArea</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">earth</td><td>the <a class="el" href="classGeographicLib_1_1Geodesic.html" title="Geodesic calculations">Geodesic</a> object to use for geodesic calculations. By default this uses the WGS84 ellipsoid. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">polyline</td><td>if true that treat the points as defining a polyline instead of a polygon (default = false). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PolygonArea_8hpp_source.html#l00095">95</a> of file <a class="el" href="PolygonArea_8hpp_source.html">PolygonArea.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a66198bec67036ad09aa58ec43166fe60"></a><!-- doxytag: member="GeographicLib::PolygonArea::Clear" ref="a66198bec67036ad09aa58ec43166fe60" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GeographicLib::PolygonArea::Clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throw ()<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clear <a class="el" href="classGeographicLib_1_1PolygonArea.html" title="Polygon Areas.">PolygonArea</a>, allowing a new polygon to be started. </p>

<p>Definition at line <a class="el" href="PolygonArea_8hpp_source.html#l00107">107</a> of file <a class="el" href="PolygonArea_8hpp_source.html">PolygonArea.hpp</a>.</p>

<p>Referenced by <a class="el" href="Planimeter_8cpp_source.html#l00037">main()</a>.</p>

</div>
</div>
<a class="anchor" id="acfec56f0e136a534192e1e71589299f1"></a><!-- doxytag: member="GeographicLib::PolygonArea::AddPoint" ref="acfec56f0e136a534192e1e71589299f1" args="(real lat, real lon)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GeographicLib::PolygonArea::AddPoint </td>
          <td>(</td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>lat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>lon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add a point to the polygon or polyline.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lat</td><td>the latitude of the point (degrees). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lon</td><td>the latitude of the point (degrees).</td></tr>
  </table>
  </dd>
</dl>
<p><em>lat</em> should be in the range [-90, 90] and <em>lon</em> should be in the range [-180, 360]. </p>

<p>Definition at line <a class="el" href="PolygonArea_8cpp_source.html#l00023">23</a> of file <a class="el" href="PolygonArea_8cpp_source.html">PolygonArea.cpp</a>.</p>

<p>Referenced by <a class="el" href="Planimeter_8cpp_source.html#l00037">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a60e1c288358818c849356c9921191215"></a><!-- doxytag: member="GeographicLib::PolygonArea::Compute" ref="a60e1c288358818c849356c9921191215" args="(bool reverse, bool sign, real &amp;perimeter, real &amp;area) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned GeographicLib::PolygonArea::Compute </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reverse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real &amp;&#160;</td>
          <td class="paramname"><em>perimeter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real &amp;&#160;</td>
          <td class="paramname"><em>area</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the results so far.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reverse</td><td>if true then clockwise (instead of counter-clockwise) traversal counts as a positive area. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sign</td><td>if true then return a signed result for the area if the polygon is traversed in the "wrong" direction instead of returning the area for the rest of the earth. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">perimeter</td><td>the perimeter of the polygon or length of the polyline (meters). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">area</td><td>the area of the polygon (meters^2); only set if polyline is false in the constructor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of points. </dd></dl>

<p>Definition at line <a class="el" href="PolygonArea_8cpp_source.html#l00041">41</a> of file <a class="el" href="PolygonArea_8cpp_source.html">PolygonArea.cpp</a>.</p>

<p>Referenced by <a class="el" href="Planimeter_8cpp_source.html#l00037">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ac46ac5567223b3db2ee11e6c4f72c257"></a><!-- doxytag: member="GeographicLib::PolygonArea::TestCompute" ref="ac46ac5567223b3db2ee11e6c4f72c257" args="(real lat, real lon, bool reverse, bool sign, real &amp;perimeter, real &amp;area) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned GeographicLib::PolygonArea::TestCompute </td>
          <td>(</td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>lat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>lon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reverse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real &amp;&#160;</td>
          <td class="paramname"><em>perimeter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real &amp;&#160;</td>
          <td class="paramname"><em>area</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the results assuming a tentative final test point is added; however, the data for the test point is not saved. This lets you report a running result for the perimeter and area as the user moves the mouse cursor. Ordinary floating point arithmetic is used to accumulate the data for the test point; thus the area and perimeter returned are less accurate than if AddPoint and Compute are used.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lat</td><td>the latitude of the test point (degrees). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lon</td><td>the longitude of the test point (degrees). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reverse</td><td>if true then clockwise (instead of counter-clockwise) traversal counts as a positive area. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sign</td><td>if true then return a signed result for the area if the polygon is traversed in the "wrong" direction instead of returning the area for the rest of the earth. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">perimeter</td><td>the approximate perimeter of the polygon or length of the polyline (meters). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">area</td><td>the approximate area of the polygon (meters^2); only set if polyline is false in the constructor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of points.</dd></dl>
<p><em>lat</em> should be in the range [-90, 90] and <em>lon</em> should be in the range [-180, 360]. </p>

<p>Definition at line <a class="el" href="PolygonArea_8cpp_source.html#l00082">82</a> of file <a class="el" href="PolygonArea_8cpp_source.html">PolygonArea.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afcdd74fcb4a0f57aa193e5fd08239369"></a><!-- doxytag: member="GeographicLib::PolygonArea::MajorRadius" ref="afcdd74fcb4a0f57aa193e5fd08239369" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGeographicLib_1_1Math.html#aeee4778d7cf2f9fb9648efe4911da59d">Math::real</a> GeographicLib::PolygonArea::MajorRadius </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const  throw ()<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd><em>a</em> the equatorial radius of the ellipsoid (meters). This is the value inherited from the <a class="el" href="classGeographicLib_1_1Geodesic.html" title="Geodesic calculations">Geodesic</a> object used in the constructor. </dd></dl>

<p>Definition at line <a class="el" href="PolygonArea_8hpp_source.html#l00178">178</a> of file <a class="el" href="PolygonArea_8hpp_source.html">PolygonArea.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aba3543baed0f014b64890d174b8c62a0"></a><!-- doxytag: member="GeographicLib::PolygonArea::Flattening" ref="aba3543baed0f014b64890d174b8c62a0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGeographicLib_1_1Math.html#aeee4778d7cf2f9fb9648efe4911da59d">Math::real</a> GeographicLib::PolygonArea::Flattening </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const  throw ()<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd><em>f</em> the flattening of the ellipsoid. This is the value inherited from the <a class="el" href="classGeographicLib_1_1Geodesic.html" title="Geodesic calculations">Geodesic</a> object used in the constructor. </dd></dl>

<p>Definition at line <a class="el" href="PolygonArea_8hpp_source.html#l00184">184</a> of file <a class="el" href="PolygonArea_8hpp_source.html">PolygonArea.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="PolygonArea_8hpp_source.html">PolygonArea.hpp</a></li>
<li><a class="el" href="PolygonArea_8cpp_source.html">PolygonArea.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Mar 13 2012 for GeographicLib by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
