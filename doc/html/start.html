<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GeographicLib: Getting started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GeographicLib</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Getting started </div>  </div>
</div>
<div class="contents">
<div class="textblock"><center> Back to <a class="el" href="install.html">Installing GeographicLib</a>. Forward to <a class="el" href="utilities.html">Utility Programs</a>. Up to <a class="el" href="index.html#contents">Contents</a>. </center><p>Much (but not all!) of the useful functionality of GeographicLib is available via simple command line utilities. Interfaces to some of them are available via the web. See <a class="el" href="utilities.html">Utility Programs</a> for documentation on these.</p>
<p>In order to use GeographicLib from C++ code, you will need to</p>
<ul>
<li>Include the header files for the GeographicLib classes in your code. E.g., <div class="fragment"><pre class="fragment"><span class="preprocessor">  #include &lt;<a class="code" href="LambertConformalConic_8hpp.html" title="Header for GeographicLib::LambertConformalConic class.">GeographicLib/LambertConformalConic.hpp</a>&gt;</span> 
</pre></div></li>
<li>Include the <a class="el" href="namespaceGeographicLib.html" title="Namespace for GeographicLib.">GeographicLib</a>:: namespace prefix to the GeographicLib classes, or include <div class="fragment"><pre class="fragment">  <span class="keyword">using namespace </span>GeographicLib; 
</pre></div> in your code.</li>
<li>Tell the compiler where to find the header files. With g++ and with /usr/local specified as the installation directory, this is accomplished with <div class="fragment"><pre class="fragment">
  g++ -c -g -O3 -I/usr/local/include testprogram.cpp
</pre></div> With Visual Studio, specify the include directory in the IDE via, e.g., <div class="fragment"><pre class="fragment">
C/C++ -&gt; General -&gt; Additional Include Directories = C:\Program Files\GeographicLib\include
</pre></div></li>
<li>Tell the linker the name, Geographic, and location of the library. Using g++ as the linker, you would use <div class="fragment"><pre class="fragment">
  g++ -g -o testprogram testprogram.o -L/usr/local/lib -lGeographic
</pre></div> With Visual Studio, you supply this information in the IDE via, e.g., <div class="fragment"><pre class="fragment">
Linker -&gt; Input -&gt; Additional Dependencies = Geographic.lib
Linker -&gt; General -&gt; Additional Library Directories = C:\Program Files\GeographicLib\include
</pre></div> Note that the library name is <b>Geographic</b> and not GeographicLib.</li>
<li>Tell the runtime environment where to find the shared library (assuming you compiled GeographicLib as a shared library). With g++, this is accomplished by modifying the link line above to read <div class="fragment"><pre class="fragment">
  g++ -g -o testprogram testprogram.o -Wl,-rpath=/usr/local/lib -L/usr/local/lib -lGeographic
</pre></div> (There are two other ways to specify the location of shared libraries at runtime: (1) define the environment variable <code>LD_LIBRARY_PATH</code> to be a colon-separated list of directories to search; (2) as <b>root</b>, specify /usr/local/lib as a directory searched by ldconfig(8).) On Windows, you need to ensure that Geographic.dll is in the same directory as your executable or else include the directory containing the dll in your <code>PATH</code>.</li>
<li>For Windows, ensure that you build the library with the same version of the compiler and you use for your code. In addition, you have to build a separate debug version of the library when you can compiling your code in debug mode.</li>
</ul>
<p>Here is a very simple test code, which convert the point 38.95N 75.17W (Philadelphia) to the Pennsylvania South coordinate system: </p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;iostream&gt;</span>
<span class="preprocessor">#include &lt;iomanip&gt;</span>

<span class="preprocessor">#include &lt;<a class="code" href="Constants_8hpp.html" title="Header for GeographicLib::Constants class.">GeographicLib/Constants.hpp</a>&gt;</span>
<span class="preprocessor">#include &lt;<a class="code" href="DMS_8hpp.html" title="Header for GeographicLib::DMS class.">GeographicLib/DMS.hpp</a>&gt;</span>
<span class="preprocessor">#include &lt;<a class="code" href="LambertConformalConic_8hpp.html" title="Header for GeographicLib::LambertConformalConic class.">GeographicLib/LambertConformalConic.hpp</a>&gt;</span>

<span class="keywordtype">int</span> <a class="code" href="CartConvert_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>() {
  <span class="keyword">using namespace </span>GeographicLib;
  <span class="keywordtype">double</span> 
    <span class="comment">// These are the constants for Pennsylvania South, EPSG:3364</span>
    <span class="comment">// http://www.spatialreference.org/ref/epsg/3364/</span>
    a = <a class="code" href="classGeographicLib_1_1Constants.html#af7abfdedede7d8180d0c2c4015b72194">Constants::WGS84_a</a>(),   <span class="comment">// major radius</span>
    f = 1/298.257222101,        <span class="comment">// flattening (GRS80)</span>
    lat1 = <a class="code" href="classGeographicLib_1_1DMS.html#ae802c666ad53884ce062281409bd78b4">DMS::Decode</a>(40,58),  <span class="comment">// standard parallel 1</span>
    lat2 = <a class="code" href="classGeographicLib_1_1DMS.html#ae802c666ad53884ce062281409bd78b4">DMS::Decode</a>(39,56),  <span class="comment">// standard parallel 2</span>
    k1 = 1,                     <span class="comment">// scale on std parallels</span>
    lat0 =  <a class="code" href="classGeographicLib_1_1DMS.html#ae802c666ad53884ce062281409bd78b4">DMS::Decode</a>(39,20), <span class="comment">// latitude of origin</span>
    lon0 = -<a class="code" href="classGeographicLib_1_1DMS.html#ae802c666ad53884ce062281409bd78b4">DMS::Decode</a>(77,45), <span class="comment">// longitude of origin</span>
    fe = 600000,                <span class="comment">// false easting</span>
    fn = 0;                     <span class="comment">// false northing</span>
  <a class="code" href="classGeographicLib_1_1LambertConformalConic.html" title="Lambert Conformal Conic Projection.">LambertConformalConic</a> PASouth(a, f, lat1, lat2, k1);
  <span class="keywordtype">double</span> x0, y0;
  PASouth.Forward(lon0, lat0, lon0, x0, y0); <span class="comment">// Transform origin point</span>
  x0 -= fe; y0 -= fn;           <span class="comment">// Combine result with false origin</span>

  <span class="keywordtype">double</span> lat = 39.95, lon = -75.17;    <span class="comment">// Philadelphia</span>
  <span class="keywordtype">double</span> x, y;
  PASouth.Forward(lon0, lat, lon, x, y);
  x -= x0; y -= y0;             <span class="comment">// Philadelphia in PA South coordinates</span>

  std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(3)
            &lt;&lt; x &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; y &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
  <span class="keywordflow">return</span> 0;
}
</pre></div><p> If you copy this code to testprogram.cpp, and compile, link, and run it according to the instructions above, it should print out </p>
<div class="fragment"><pre class="fragment">
  820444.831 71691.798
</pre></div><p>The next steps are:</p>
<ul>
<li>Learn about and run the <a class="el" href="utilities.html">Utility Programs</a>.</li>
<li>Read the section, <a class="el" href="organization.html">Code organization</a>, for an overview of the library.</li>
<li>Browse the <a href="annotated.html">Class List</a> for full documentation on the classes in the library.</li>
<li>Look at the source code for the utilities in the tools directory for more examples of using GeographicLib from C++ code, e.g., <a class="el" href="GeodesicProj_8cpp.html" title="Command line utility for geodesic projections.">GeodesicProj.cpp</a> is a program to performing various geodesic projections.</li>
</ul>
<p>Here's a list of some of the abbreviations used here with links to the corresponding Wikipedia articles:</p>
<ul>
<li><a href="http://en.wikipedia.org/wiki/WGS84">WGS84</a>, World Geodetic System 1984.</li>
<li><a href="http://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system">UTM</a>, Universal Transverse Mercator coordinate system.</li>
<li><a href="http://en.wikipedia.org/wiki/Universal_Polar_Stereographic">UPS</a>, Universal Polar Stereographic coordinate system.</li>
<li><a href="http://en.wikipedia.org/wiki/Military_grid_reference_system">MGRS</a>, Military Grid Reference System.</li>
<li><a href="http://en.wikipedia.org/wiki/Geoid">EGM</a>, Earth Gravity Model.</li>
</ul>
<center> Back to <a class="el" href="install.html">Installing GeographicLib</a>. Forward to <a class="el" href="utilities.html">Utility Programs</a>. Up to <a class="el" href="index.html#contents">Contents</a>. </center> </div></div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Jul 21 2011 for GeographicLib by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
